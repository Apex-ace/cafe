{% extends 'base.html' %}
{% block title %}My Profile{% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-10">
    <!-- Header -->
    <div class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Manage Your Profile</h1>
        <p class="mt-2 text-gray-600">Keep your details up to date to ensure a seamless experience with our bakery.</p>
    </div>

    <!-- Profile Grid -->
    <div class="grid gap-8 md:grid-cols-[300px_1fr]">
        <!-- Sidebar -->
        <div class="bg-white shadow-lg rounded-2xl p-6 border border-gray-200 text-center">
            <div class="flex items-center justify-center mx-auto w-36 h-36 rounded-full bg-gradient-to-r from-red-400 to-red-600 text-white text-5xl font-bold border-4 border-white shadow-lg">
                {{ (profile.full_name or session.user.email)[0]|upper }}
            </div>
            <div class="mt-4">
                <h3 class="text-xl font-semibold text-gray-800">{{ profile.full_name or 'New User' }}</h3>
                <p class="text-gray-600 text-sm">{{ session.user.email }}</p>
            </div>
        </div>

        <!-- Profile Form -->
        <div class="bg-white shadow-lg rounded-2xl p-6 border border-gray-200">
            <form method="post" class="space-y-6">
                <!-- Full Name -->
                <div>
                    <label for="full_name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                            <i class='bx bxs-user text-lg'></i>
                        </span>
                        <input type="text" name="full_name" id="full_name" value="{{ profile.full_name or '' }}"
                            class="w-full pl-10 rounded-lg border-gray-300 focus:ring-red-400 focus:border-red-400"
                            placeholder="Enter your full name">
                    </div>
                </div>

                <!-- Phone -->
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
                            <i class='bx bxs-phone text-lg'></i>
                        </span>
                        <input type="tel" name="phone" id="phone" value="{{ profile.phone or '' }}"
                            class="w-full pl-10 rounded-lg border-gray-300 focus:ring-red-400 focus:border-red-400"
                            placeholder="Enter your phone number">
                    </div>
                </div>

                <!-- Address -->
                <div>
                    <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Delivery Address</label>
                    <div class="relative">
                        <span class="absolute top-3 left-0 flex items-start pl-3 text-gray-400">
                            <i class='bx bxs-map text-lg'></i>
                        </span>
                        <textarea name="address" id="address" rows="4"
                            class="w-full pl-10 rounded-lg border-gray-300 focus:ring-red-400 focus:border-red-400"
                            placeholder="Enter your full address">{{ profile.address or '' }}</textarea>
                    </div>
                </div>

                <!-- Button -->
                <button type="submit"
                    class="w-full bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200">
                    Update Profile
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
